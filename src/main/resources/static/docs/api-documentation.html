<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Spring Boot API Documentation</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f8f9fa;
      }
      .container {
        background: white;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #2c3e50;
        border-bottom: 3px solid #3498db;
        padding-bottom: 10px;
      }
      h2 {
        color: #34495e;
        margin-top: 30px;
        border-left: 4px solid #3498db;
        padding-left: 15px;
      }
      h3 {
        color: #2c3e50;
        margin-top: 25px;
      }
      .endpoint {
        background: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 5px;
        padding: 15px;
        margin: 15px 0;
      }
      .method {
        display: inline-block;
        padding: 4px 8px;
        border-radius: 4px;
        font-weight: bold;
        font-size: 12px;
        margin-right: 10px;
      }
      .method.post {
        background: #28a745;
        color: white;
      }
      .method.get {
        background: #007bff;
        color: white;
      }
      .method.put {
        background: #ffc107;
        color: black;
      }
      .method.delete {
        background: #dc3545;
        color: white;
      }
      .url {
        font-family: "Courier New", monospace;
        font-size: 16px;
        font-weight: bold;
      }
      pre {
        background: #2d3748;
        color: #e2e8f0;
        padding: 15px;
        border-radius: 5px;
        overflow-x: auto;
        margin: 10px 0;
      }
      .code-block {
        background: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 5px;
        padding: 15px;
        margin: 10px 0;
      }
      .status-code {
        display: inline-block;
        padding: 2px 6px;
        border-radius: 3px;
        font-size: 12px;
        font-weight: bold;
        margin-right: 5px;
      }
      .status-200 {
        background: #d4edda;
        color: #155724;
      }
      .status-400 {
        background: #f8d7da;
        color: #721c24;
      }
      .status-401 {
        background: #f8d7da;
        color: #721c24;
      }
      .status-403 {
        background: #f8d7da;
        color: #721c24;
      }
      .status-404 {
        background: #f8d7da;
        color: #721c24;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin: 15px 0;
      }
      th,
      td {
        border: 1px solid #dee2e6;
        padding: 12px;
        text-align: left;
      }
      th {
        background: #f8f9fa;
        font-weight: bold;
      }
      .note {
        background: #e7f3ff;
        border-left: 4px solid #007bff;
        padding: 15px;
        margin: 15px 0;
      }
      .warning {
        background: #fff3cd;
        border-left: 4px solid #ffc107;
        padding: 15px;
        margin: 15px 0;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸš€ Spring Boot API Documentation</h1>

      <div class="note">
        <strong>ğŸ“‹ ê°œìš”</strong><br />
        ì´ ë¬¸ì„œëŠ” Spring Boot ê¸°ë°˜ì˜ ê²Œì‹œíŒ APIì— ëŒ€í•œ ë¬¸ì„œì…ë‹ˆë‹¤.
      </div>

      <div class="warning">
        <strong>ğŸ”§ ë¹Œë“œ ë° ì‹¤í–‰</strong><br />
        â€¢ ë¬¸ì„œ ìƒì„±: <code>./gradlew clean test asciidoctor copyRestDocs</code
        ><br />
        â€¢ JAR ë¹Œë“œ: <code>./gradlew bootJar</code><br />
        â€¢ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰: <code>./gradlew bootRun</code><br />
        â€¢ ë¬¸ì„œ ì ‘ê·¼:
        <code>http://localhost:8080/docs/api-documentation.html</code>
      </div>

      <h2>ğŸŒ Base URL</h2>
      <div class="code-block">
        <code>http://localhost:8080</code>
      </div>

      <h2>ğŸ” ì¸ì¦</h2>
      <div class="warning">
        <strong>âš ï¸ ì¤‘ìš”:</strong> JWT í† í°ì„ ì‚¬ìš©í•œ ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.<br />
        â€¢ ë¡œê·¸ì¸ í›„ ë°›ì€ JWT í† í°ì„ <code>Authorization</code> í—¤ë”ì— í¬í•¨í•´ì•¼
        í•©ë‹ˆë‹¤.<br />
        â€¢ í˜•ì‹: <code>Bearer {JWT_TOKEN}</code>
      </div>

      <h2>1ï¸âƒ£ ì¸ì¦ API</h2>

      <div class="endpoint">
        <h3>
          <span class="method post">POST</span>
          <span class="url">/join</span>
        </h3>
        <p><strong>íšŒì›ê°€ì…</strong> - ìƒˆë¡œìš´ ì‚¬ìš©ìë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.</p>

        <h4>Request Body</h4>
        <pre><code>{
  "username": "testUser",
  "password": "1234",
  "email": "test@metacoding.com",
  "roles": "USER"
}</code></pre>

        <h4>Response</h4>
        <p><span class="status-code status-200">200 OK</span></p>
        <pre><code>{
  "id": 3,
  "username": "testUser",
  "email": "test@metacoding.com",
  "roles": "USER"
}</code></pre>

        <p><span class="status-code status-400">400 Bad Request</span></p>
        <pre><code>{
  "status": 400,
  "msg": "email:ì´ë©”ì¼ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤",
  "body": null
}</code></pre>
      </div>

      <div class="endpoint">
        <h3>
          <span class="method post">POST</span>
          <span class="url">/login</span>
        </h3>
        <p><strong>ë¡œê·¸ì¸</strong> - ì‚¬ìš©ì ë¡œê·¸ì¸ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.</p>

        <h4>Request Body</h4>
        <pre><code>{
  "username": "ssar",
  "password": "1234"
}</code></pre>

        <h4>Response</h4>
        <p><span class="status-code status-200">200 OK</span></p>
        <pre><code>Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...</code></pre>

        <p><span class="status-code status-401">401 Unauthorized</span></p>
        <pre><code>{
  "status": 401,
  "msg": "ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤",
  "body": null
}</code></pre>
      </div>

      <div class="endpoint">
        <h3>
          <span class="method get">GET</span>
          <span class="url">/check-username</span>
        </h3>
        <p>
          <strong>ì‚¬ìš©ìëª… ì¤‘ë³µ ì²´í¬</strong> - ì‚¬ìš©ìëª…ì˜ ì¤‘ë³µ ì—¬ë¶€ë¥¼
          í™•ì¸í•©ë‹ˆë‹¤.
        </p>

        <h4>Query Parameters</h4>
        <table>
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td>username</td>
            <td>string</td>
            <td>í™•ì¸í•  ì‚¬ìš©ìëª…</td>
          </tr>
        </table>

        <h4>Response</h4>
        <p><span class="status-code status-200">200 OK</span></p>
        <pre><code>{
  "available": true
}</code></pre>
      </div>

      <h2>2ï¸âƒ£ ì‚¬ìš©ì API</h2>

      <div class="endpoint">
        <h3>
          <span class="method put">PUT</span>
          <span class="url">/api/users</span>
        </h3>
        <p><strong>íšŒì› ì •ë³´ ìˆ˜ì •</strong> - ì‚¬ìš©ì ì •ë³´ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.</p>

        <h4>Headers</h4>
        <ul>
          <li><code>Authorization</code>: Bearer {JWT_TOKEN}</li>
        </ul>

        <h4>Request Body</h4>
        <pre><code>{
  "email": "update@metacoding.com",
  "password": "12345"
}</code></pre>

        <h4>Response</h4>
        <p><span class="status-code status-200">200 OK</span></p>
        <pre><code>{
  "id": 1,
  "username": "ssar",
  "email": "update@metacoding.com",
  "roles": "USER"
}</code></pre>
      </div>

      <div class="endpoint">
        <h3>
          <span class="method get">GET</span>
          <span class="url">/api/users/{userId}</span>
        </h3>
        <p>
          <strong>íšŒì› ì •ë³´ ì¡°íšŒ</strong> - íŠ¹ì • ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
        </p>

        <h4>Headers</h4>
        <ul>
          <li><code>Authorization</code>: Bearer {JWT_TOKEN}</li>
        </ul>

        <h4>Path Parameters</h4>
        <table>
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td>userId</td>
            <td>integer</td>
            <td>ì‚¬ìš©ì ID</td>
          </tr>
        </table>

        <h4>Response</h4>
        <p><span class="status-code status-200">200 OK</span></p>
        <pre><code>{
  "id": 1,
  "username": "ssar",
  "email": "ssar@metacoding.com",
  "roles": "USER"
}</code></pre>
      </div>

      <h2>3ï¸âƒ£ ê²Œì‹œê¸€ API</h2>

      <div class="endpoint">
        <h3>
          <span class="method get">GET</span>
          <span class="url">/api/boards</span>
        </h3>
        <p>
          <strong>ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ</strong> - ëª¨ë“  ê²Œì‹œê¸€ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
        </p>

        <h4>Headers</h4>
        <ul>
          <li><code>Authorization</code>: Bearer {JWT_TOKEN}</li>
        </ul>

        <h4>Response</h4>
        <p><span class="status-code status-200">200 OK</span></p>
        <pre><code>[
  {
    "id": 1,
    "title": "title 1",
    "content": "Spring Study 1"
  },
  {
    "id": 2,
    "title": "title 2",
    "content": "Spring Study 2"
  }
]</code></pre>
      </div>

      <div class="endpoint">
        <h3>
          <span class="method post">POST</span>
          <span class="url">/api/boards</span>
        </h3>
        <p><strong>ê²Œì‹œê¸€ ì‘ì„±</strong> - ìƒˆë¡œìš´ ê²Œì‹œê¸€ì„ ì‘ì„±í•©ë‹ˆë‹¤.</p>

        <h4>Headers</h4>
        <ul>
          <li><code>Authorization</code>: Bearer {JWT_TOKEN}</li>
        </ul>

        <h4>Request Body</h4>
        <pre><code>{
  "title": "test title",
  "content": "test content"
}</code></pre>

        <h4>Response</h4>
        <p><span class="status-code status-200">200 OK</span></p>
        <pre><code>{
  "id": 6,
  "title": "test title",
  "content": "test content"
}</code></pre>
      </div>

      <h2>4ï¸âƒ£ ëŒ“ê¸€ API</h2>

      <div class="endpoint">
        <h3>
          <span class="method post">POST</span>
          <span class="url">/api/replies</span>
        </h3>
        <p><strong>ëŒ“ê¸€ ì‘ì„±</strong> - ìƒˆë¡œìš´ ëŒ“ê¸€ì„ ì‘ì„±í•©ë‹ˆë‹¤.</p>

        <h4>Headers</h4>
        <ul>
          <li><code>Authorization</code>: Bearer {JWT_TOKEN}</li>
        </ul>

        <h4>Request Body</h4>
        <pre><code>{
  "comment": "test comment",
  "boardId": 1
}</code></pre>

        <h4>Response</h4>
        <p><span class="status-code status-200">200 OK</span></p>
        <pre><code>{
  "id": 1,
  "comment": "test comment",
  "userId": 1,
  "username": "ssar",
  "boardId": 1
}</code></pre>
      </div>

      <h2>5ï¸âƒ£ ê´€ë¦¬ì API</h2>

      <div class="endpoint">
        <h3>
          <span class="method delete">DELETE</span>
          <span class="url">/api/admin/boards/{boardId}</span>
        </h3>
        <p>
          <strong>ê´€ë¦¬ì ê²Œì‹œê¸€ ì‚­ì œ</strong> - ê´€ë¦¬ìê°€ ê²Œì‹œê¸€ì„ ì‚­ì œí•©ë‹ˆë‹¤.
        </p>

        <h4>Headers</h4>
        <ul>
          <li>
            <code>Authorization</code>: Bearer {JWT_TOKEN} (ADMIN ê¶Œí•œ í•„ìš”)
          </li>
        </ul>

        <h4>Path Parameters</h4>
        <table>
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td>boardId</td>
            <td>integer</td>
            <td>ê²Œì‹œê¸€ ID</td>
          </tr>
        </table>

        <h4>Response</h4>
        <p><span class="status-code status-200">200 OK</span></p>
        <pre><code>ê²Œì‹œê¸€ ì‚­ì œ ì™„ë£Œ</code></pre>
      </div>

      <h2>âŒ ì—ëŸ¬ ì½”ë“œ</h2>
      <table>
        <tr>
          <th>ì½”ë“œ</th>
          <th>ì„¤ëª…</th>
        </tr>
        <tr>
          <td>400</td>
          <td>Bad Request - ì˜ëª»ëœ ìš”ì²­</td>
        </tr>
        <tr>
          <td>401</td>
          <td>Unauthorized - ì¸ì¦ ì‹¤íŒ¨</td>
        </tr>
        <tr>
          <td>403</td>
          <td>Forbidden - ê¶Œí•œ ì—†ìŒ</td>
        </tr>
        <tr>
          <td>404</td>
          <td>Not Found - ë¦¬ì†ŒìŠ¤ ì—†ìŒ</td>
        </tr>
        <tr>
          <td>500</td>
          <td>Internal Server Error - ì„œë²„ ì˜¤ë¥˜</td>
        </tr>
      </table>

      <h2>ğŸ’¡ ì‚¬ìš© ì˜ˆì‹œ</h2>

      <h3>1. íšŒì›ê°€ì… í›„ ë¡œê·¸ì¸</h3>
      <pre><code># 1. íšŒì›ê°€ì…
curl -X POST http://localhost:8080/join \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testUser",
    "password": "1234",
    "email": "test@metacoding.com",
    "roles": "USER"
  }'

# 2. ë¡œê·¸ì¸
curl -X POST http://localhost:8080/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testUser",
    "password": "1234"
  }'</code></pre>

      <h3>2. ê²Œì‹œê¸€ ì‘ì„±</h3>
      <pre><code>curl -X POST http://localhost:8080/api/boards \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -d '{
    "title": "ìƒˆ ê²Œì‹œê¸€",
    "content": "ê²Œì‹œê¸€ ë‚´ìš©ì…ë‹ˆë‹¤."
  }'</code></pre>

      <div class="note">
        <strong>ğŸ“ ì°¸ê³ :</strong> ì´ ë¬¸ì„œëŠ” ìë™ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. API
        ë³€ê²½ì‚¬í•­ì´ ìˆì„ ê²½ìš° ë¬¸ì„œë„ í•¨ê»˜ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.
      </div>
    </div>
  </body>
</html>
